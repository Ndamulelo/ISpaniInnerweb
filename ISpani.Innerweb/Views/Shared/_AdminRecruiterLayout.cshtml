
@{
    Layout = "_MasterLayout";
    var UserRole = HttpContextAccessor.HttpContext.Session.GetString("Role").Remove(0, 1);
    UserRole = UserRole.Remove(UserRole.Length - 1, 1);
    var sessionValues = HttpContextAccessor.HttpContext.Session;
    var username = sessionValues.GetString("Username").Remove(0, 1);
    username = username.Remove(username.Length-1, 1);
    var controller = "Recruiter";

    if(!UserRole.Equals("Admin"))
    {
        controller = "Recruiter";
    }

}

<!-- Page header -->
<div class="page-header page-header-dark">

    <!-- Main navbar -->

    <div class="navbar navbar-expand-md navbar-dark border-transparent">
        <div class="navbar-brand wmin-0 mr-5">
            <a href="../full/index.html" class="d-inline-block">
                <!--<img src="~/logo.png" alt="" height="55" width="55" >-->
            </a>
        </div>
        
        <div class="d-md-none">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-mobile">
                <i class="icon-tree5"></i>
            </button>
            <button class="navbar-toggler sidebar-mobile-main-toggle" type="button">
                <i class="icon-paragraph-justify3"></i>
            </button>
        </div>

        <div class="collapse navbar-collapse" id="navbar-mobile">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a href="#" class="navbar-nav-link sidebar-control sidebar-main-toggle d-none d-md-block">
                        <i class="icon-paragraph-justify3"></i>
                    </a>
                </li>
            </ul>

            <ul class="navbar-nav ml-auto">

                <li class="nav-item dropdown dropdown-user">
                    <a href="#" class="navbar-nav-link d-flex align-items-center dropdown-toggle" data-toggle="dropdown">
                        <img src="../../../../global_assets/images/image.png" class="rounded-circle mr-2" height="34" alt="">
                        <span>@username</span>
                    </a>

                    <div class="dropdown-menu dropdown-menu-right">
                        @if (UserRole.Equals("Recruiter"))
                        {
                            <a asp-controller="Recruiter" asp-action="Profile" class="dropdown-item"><i class="icon-user-plus"></i> My profile</a>
                        }
                        <a asp-action="ChangePassword" asp-controller="User" class="dropdown-item"><i class="icon-cog5"></i> Change Password</a>
                        <div class="dropdown-divider"></div>
                        <a asp-action="SignOut" asp-controller="User" class="dropdown-item"><i class="icon-switch2"></i> Logout</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
        <!-- /main navbar -->
        <!-- Secondary navbar -->
        <div class="navbar navbar-expand-md navbar-dark border-top-0">
            <div class="text-center d-md-none w-100">
                <button type="button" class="navbar-toggler dropdown-toggle" data-toggle="collapse" data-target="#navbar-navigation">
                    <i class="icon-unfold mr-2"></i>
                    Navigation
                </button>
            </div>


            <div class="navbar-collapse collapse" id="navbar-navigation">
                <ul class="navbar-nav navbar-nav-highlight">
                    <li class="nav-item">
                        <a href="#" class="navbar-nav-link">
                            <i class="icon-home4 mr-2"></i>
                            Dashboard
                        </a>
                    </li>

                </ul>

            </div>
        </div>
        <!-- /secondary navbar -->

    </div>
    <!-- /page header -->
    <!-- Page content -->
    <div class="page-content">

        <!-- Main sidebar -->
        <div class="sidebar sidebar-light sidebar-main sidebar-expand-md align-self-start">

            <!-- Sidebar mobile toggler -->
            <div class="sidebar-mobile-toggler text-center">
                <a href="#" class="sidebar-mobile-main-toggle">
                    <i class="icon-arrow-left8"></i>
                </a>
                <span class="font-weight-semibold">Main sidebar</span>
                <a href="#" class="sidebar-mobile-expand">
                    <i class="icon-screen-full"></i>
                    <i class="icon-screen-normal"></i>
                </a>
            </div>
            <!-- /sidebar mobile toggler -->
            <!-- Sidebar content -->
            <div class="sidebar-content">
                <div class="card card-sidebar-mobile">

                    <!-- Header -->
                    <div class="card-header header-elements-inline">
                        <h6 class="card-title">Navigation</h6>
                        <div class="header-elements">
                            <div class="list-icons">
                                <a class="list-icons-item" data-action="collapse"></a>
                            </div>
                        </div>
                    </div>
                    <!-- /header -->
                    <!-- Main navigation -->
                    @if (UserRole.Contains("Admin"))
                    {
                        <partial name="_AdminSideNavMenu" />
                    }
                    else
                    {
                        <partial name="_RecruiterSideNavMenu" />
                    }
                    <!-- /main navigation -->

                </div>
            </div>
            <!-- /sidebar content -->

        </div>
        <!-- /main sidebar -->
        <!-- Main content -->
        <div class="content-wrapper">

            <!-- Content area -->
            <div class="content">

                @RenderBody()
                @if (IsSectionDefined("Scripts"))
                {@RenderSection("Scripts", required: true)}

            </div>
            <!-- /content area -->

        </div>
        <!-- /main content -->

    </div>
    <!-- /page content -->
